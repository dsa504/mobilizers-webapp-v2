<script>
//
// Field options
//
var programsAndCommittees = [
  "Communications",
  "Direct Service/Brake Lights",
  "Healthcare For All",
  "Immigration Working Group",
  "Labor Standing",
  "Municipal Action",
  "Socialist Feminist Caucus",
  "Political Education",
  "Socialists Of Color",
  "Tech",
  "Other",
];

var initialTextResponses = [
  "Call Scheduled",
  "Left Town / Not Interested",
  "No Reply",
];

var meetingScheduledResponses = [
  "Meetup Scheduled",
  "Can't/May Attend Later Events",
  "Not Interested",
  //"Other",
];

// *********
// Vue
// *********
Vue.use(VueMaterial.default);
window.app = new Vue({
  el: '#app',
  components: {
    "login-dialog": window.vueComponents.loginDialog,
    "select-program-member": window.vueComponents.selectProgramMember,
    "intake-form": window.vueComponents.intakeForm,
  },
  data: {
    programMembers: [],       
    programMembersLoaded: false,         
    showLogin: true,
    showSteps: true,
    presets: {
      initialTextResponses: initialTextResponses,
      programsAndCommittees: programsAndCommittees,
      meetingScheduledResponses: meetingScheduledResponses,
    },
  },
  computed: {},
  watch: {},
  methods: {
    onLoginSuccess: function() {
      this.showLogin = false;
      this.getData();
    },
    getData: function() {
      var app = this;

      google.script.run
        .withSuccessHandler(function(data) {
          app.programMembers = data;
        })
        .getProgramMembers();
    },
    onProgramMemberSelect: function (programMember) {

    },
    onMobilizerSelect: function(mobilizer) {

    },
  }
});

</script>