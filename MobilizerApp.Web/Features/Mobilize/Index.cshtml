@section styles {
    <link rel="stylesheet" href="/css/intake.css"/>
}

<div id="app" v-cloak>
  
    <login-dialog 
        v-on:login-success="onLoginSuccess"
        :show="showLogin"
    ></login-dialog>

    <div class="md-layout md-alignment-top-center">
        <div class="md-layout-item">
        <md-card class="md-accent">
            <md-card-header>
            <div class="md-title"><b>{{chapterName}}</b>  Mobilizer Progress Tracker</div>
            <div class="md-subhead">Version 3.0</div>
            </md-card-header>
        </md-card>
        
        <select-program-member
            v-if="programMembers.length"
            v-bind:program-members="programMembers"
            v-model="selectedProgramMemberId"
        ></select-program-member>

        <intake-form
            v-if="selectedProgramMember"
            v-bind:presets="presets"
            v-bind:program-member="selectedProgramMember"
            v-on:program-member-update="updateProgramMember"
        ></intake-form>

        </div>
    </div>
</div>

@Html.RenderPartialAsync("~/Features/Mobilize/IntakeForm", new {})

@section scripts {
    <script type=module>
        import Vue from "/node_modules/vue/dist/vue.esm.browser.js";
        import {IntakeFormComponent} from "/Features/Mobilize/IntakeFormComponent.js";

        const app = new Vue
    </script>
}